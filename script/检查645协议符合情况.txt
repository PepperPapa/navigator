# 根据威胜310软件输出结果进行数据帧是否满足645协议要求进行检查
# 直接将310输出的结果copy替换脚本中的字符串部分，然后全选点击运行即可，脚本会自动提取其中的数据帧信息
# 检查项目包括：起始符、结束符、数据长度、校验码
ouput = """发：68 11 11 11 11 11 11 68 11 04 35 44 3C 37 37 16 
收：68 11 11 11 11 11 11 68 91 05 35 44 3C 37 34 EC 16 
响应延时:17毫秒
抄读预置电量耗完是否拉闸(备3):操作成功!
T0ken码(备注2)为只写命令，不可读
发：68 11 11 11 11 11 11 68 11 04 33 34 FF 3A EB 16 
收：68 11 11 11 11 11 11 68 91 05 33 34 FF 3A 33 9F 16 
响应延时:17毫秒
抄读密钥版本号:操作成功!
发：68 11 11 11 11 11 11 68 11 04 34 34 FF 3A EC 16 
收：68 11 11 11 11 11 11 68 91 05 34 34 FF 3A 33 A0 16 
响应延时:18毫秒
抄读当前密钥类型(备1):操作成功!
发：68 11 11 11 11 11 11 68 11 04 33 33 13 37 FB 16 
收：68 11 11 11 11 11 11 68 91 64 33 33 13 37 76 76 66 77 68 74 67 66 75 74 76 6B 78 77 68 74 64 79 6B 6A 65 77 67 78 65 66 66 67 66 65 68 69 6C 68 67 74 6A 79 6B 68 6B 63 77 67 77 6C 68 76 66 6C 77 79 6A 67 77 75 67 69 6B 68 6A 76 68 74 77 6B 74 6A 67 75 75 6A 79 79 64 66 64 78 6A 75 68 64 6A 63 63 67 78 67 69 65 64 65 75 6C 74 69 BC 16 
响应延时:150毫秒
抄读低级权限密码(ASCII码):操作成功!
发：68 11 11 11 11 11 11 68 11 04 34 33 13 37 FC 16 
收：68 11 11 11 11 11 11 68 91 64 34 33 13 37 76 76 66 77 68 74 67 66 75 74 76 6B 78 77 68 74 64 79 6B 6A 65 77 67 78 65 66 66 67 66 65 68 69 6C 68 67 74 6A 79 6B 68 6B 63 77 67 77 6C 68 76 66 6C 77 79 6A 67 77 75 67 69 6B 68 6A 76 68 74 77 6B 74 6A 67 75 75 6A 79 79 64 66 64 78 6A 75 68 64 6A 63 63 67 78 67 69 65 64 65 75 6C 74 69 BD 16 
响应延时:150毫秒
抄读高级权限密码(ASCII码):操作成功!
发：68 11 11 11 11 11 11 68 11 04 35 33 13 37 FD 16 
收：68 11 11 11 11 11 11 68 91 05 35 33 13 37 34 B2 16 
响应延时:1毫秒
抄读GET操作最低认证级别(备注4):操作成功!
发：68 11 11 11 11 11 11 68 11 04 36 33 13 37 FE 16 
收：68 11 11 11 11 11 11 68 91 05 36 33 13 37 34 B3 16 
响应延时:1毫秒
抄读SET操作最低认证级别(备注4):操作成功!
发：68 11 11 11 11 11 11 68 11 04 37 33 13 37 FF 16 
收：68 11 11 11 11 11 11 68 91 05 37 33 13 37 34 B4 16 
响应延时:1毫秒
抄读ACTI0N操作最低认证级别(备注4):操作成功!
发：68 11 11 11 11 11 11 68 11 04 38 33 13 37 00 16 
收：68 11 11 11 11 11 11 68 91 05 38 33 13 37 33 B4 16 
响应延时:17毫秒
抄读数据加密算法(备注5):操作成功!
发：68 11 11 11 11 11 11 68 11 04 33 34 13 37 FC 16 
收：68 11 11 11 11 11 11 68 91 05 33 34 13 37 35 B2 16 
响应延时:111毫秒
抄读通道类型(备注6):操作成功!
发：68 11 11 11 11 11 11 68 11 04 34 34 13 37 FD 16 
收：68 11 11 11 11 11 11 68 91 07 34 34 13 37 33 33 33 19 16 
响应延时:150毫秒
抄读本地侦听端口号:操作成功!
发：68 11 11 11 11 11 11 68 11 04 35 34 13 37 FE 16 
收：68 11 11 11 11 11 11 68 91 08 35 34 13 37 33 33 33 33 4E 16 
响应延时:150毫秒
抄读主通道IP地址:操作成功!
发：68 11 11 11 11 11 11 68 11 04 36 34 13 37 FF 16 
收：68 11 11 11 11 11 11 68 91 07 36 34 13 37 49 B4 33 B2 16 
响应延时:44毫秒
抄读主通道端口号:操作成功!
发：68 11 11 11 11 11 11 68 11 04 37 34 13 37 00 16 
收：68 11 11 11 11 11 11 68 91 08 37 34 13 37 33 33 33 33 50 16 
响应延时:150毫秒
抄读备通道IP地址:操作成功!
发：68 11 11 11 11 11 11 68 11 04 38 34 13 37 01 16 
收：68 11 11 11 11 11 11 68 91 07 38 34 13 37 49 B4 33 B4 16 
响应延时:150毫秒
抄读备通道端口号:操作成功!
发：68 11 11 11 11 11 11 68 11 04 39 34 13 37 02 16 
收：68 11 11 11 11 11 11 68 91 06 39 34 13 37 38 33 EF 16 
响应延时:54毫秒
抄读心跳间隔，为0表示不心跳:操作成功!
发：68 11 11 11 11 11 11 68 11 04 3B 34 13 37 04 16 
收：68 11 11 11 11 11 11 68 91 06 3B 34 13 37 34 33 ED 16 
响应延时:7毫秒
抄读断链重连间隔:操作成功!
发：68 11 11 11 11 11 11 68 11 04 33 35 13 37 FD 16 
收：68 11 11 11 11 11 11 68 91 24 33 35 13 37 54 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 1E 16 
响应延时:150毫秒
抄读GPRSAPN(ASCII):操作成功!
发：68 11 11 11 11 11 11 68 11 04 38 42 33 37 2F 16 
收：68 11 11 11 11 11 11 68 91 05 38 42 33 37 33 E3 16 
响应延时:18毫秒
抄读工厂模式(华为扩展):操作成功!
发：68 11 11 11 11 11 11 68 11 04 39 42 33 37 30 16 
收：68 11 11 11 11 11 11 68 91 05 39 42 33 37 34 E5 16 
响应延时:1毫秒
抄读停电休眠控制开关:操作成功!
发：68 11 11 11 11 11 11 68 11 04 3A 42 33 37 31 16 
收：68 11 11 11 11 11 11 68 91 05 3A 42 33 37 34 E6 16 
响应延时:17毫秒
抄读电池检测开关:操作成功!
发：68 11 11 11 11 11 11 68 11 04 35 34 FF 3A ED 16 
收：68 11 11 11 11 11 11 68 91 07 35 34 FF 3A 33 33 33 09 16 
响应延时:13毫秒
抄读SGC:操作成功!
发：68 11 11 11 11 11 11 68 11 04 37 44 3C 37 39 16 
收：68 11 11 11 11 11 11 68 D1 01 37 3F 16 
响应延时:26毫秒
抄读电表远程定位:返回控制码错误!:密码错误
非token码清窃电记录为只写命令，不可读
发：68 11 11 11 11 11 11 68 11 04 39 44 3C 37 3B 16 
收：68 11 11 11 11 11 11 68 91 05 39 44 3C 37 38 F4 16 
响应延时:17毫秒
抄读强制对时时钟超差告警阈值（5-59）:操作成功!
发：68 11 11 11 11 11 11 68 11 04 3A 44 3C 37 3C 16 
收：68 11 11 11 11 11 11 68 91 05 3A 44 3C 37 34 F1 16 
响应延时:49毫秒
抄读电压电流逆相序检测开关:操作成功!
发：68 11 11 11 11 11 11 68 11 04 39 35 13 37 03 16 
收：68 11 11 11 11 11 11 68 91 24 39 35 13 37 64 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 34 16 
响应延时:150毫秒
抄读GPRS拨号用户名:操作成功!
发：68 11 11 11 11 11 11 68 11 04 3A 35 13 37 04 16 
收：68 11 11 11 11 11 11 68 91 64 3A 35 13 37 74 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 84 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 94 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 F7 16 
响应延时:150毫秒
抄读GPRS拨号密码:操作成功!
发：68 11 11 11 11 11 11 68 11 04 3B 35 13 37 05 16 
收：68 11 11 11 11 11 11 68 91 24 3B 35 13 37 A4 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 76 16 
响应延时:150毫秒
抄读PIN码:操作成功!
发：68 11 11 11 11 11 11 68 11 04 33 36 13 37 FE 16 
收：68 11 11 11 11 11 11 68 91 08 33 36 13 37 93 33 33 33 AE 16 
响应延时:3毫秒
抄读事件扫描间隔:操作成功!
发：68 11 11 11 11 11 11 68 11 04 34 36 13 37 FF 16 
收：68 11 11 11 11 11 11 68 91 24 34 36 13 37 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 48 88 33 33 33 33 88 88 87 33 48 38 38 73 34 88 84 6D 16 
响应延时:150毫秒
抄读事件类型配置:操作成功!
发：68 11 11 11 11 11 11 68 11 04 33 33 14 37 FC 16 
收：68 11 11 11 11 11 11 68 91 24 33 33 14 37 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 6B 6A 68 63 75 63 69 63 76 68 63 63 85 63 63 65 89 BA 16 
响应延时:150毫秒
抄读扣板软件版本号:操作成功!
发：68 11 11 11 11 11 11 68 11 04 33 34 14 37 FD 16 
收：68 11 11 11 11 11 11 68 91 05 33 34 14 37 32 B0 16 
响应延时:18毫秒
抄读GPRS接收信号强度指示:操作成功!
发：68 11 11 11 11 11 11 68 11 04 34 34 14 37 FE 16 
收：68 11 11 11 11 11 11 68 91 08 34 34 14 37 33 33 33 33 4E 16 
响应延时:2毫秒
抄读GPRS IP地址:操作成功!
发：68 11 11 11 11 11 11 68 11 04 35 34 14 37 FF 16 
收：68 11 11 11 11 11 11 68 91 05 35 34 14 37 23 A3 16 
响应延时:173毫秒
抄读主站通道状态:操作成功!
发：68 11 11 11 11 11 11 68 11 04 33 35 14 37 FE 16 
收：68 11 11 11 11 11 11 68 D1 01 35 3D 16 
响应延时:26毫秒
抄读当前流控状态:返回控制码错误!:无请求数据
发：68 11 11 11 11 11 11 68 11 04 34 35 14 37 FF 16 
收：68 11 11 11 11 11 11 68 D1 01 35 3D 16 
响应延时:26毫秒
抄读当前月流量:返回控制码错误!:无请求数据
发：68 11 11 11 11 11 11 68 11 04 33 37 13 37 FF 16 
收：68 11 11 11 11 11 11 68 91 24 33 37 13 37 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 48 88 33 33 33 33 88 88 87 33 48 38 38 73 34 88 84 6D 16 
响应延时:19毫秒
抄读备用低级权限密码:操作成功!
发：68 11 11 11 11 11 11 68 11 04 34 37 13 37 00 16 
收：68 11 11 11 11 11 11 68 91 24 34 37 13 37 33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 48 88 33 33 33 33 88 88 87 33 48 38 38 73 34 88 84 6E 16 
响应延时:150毫秒
抄读备用高级权限密码:操作成功!
发：68 11 11 11 11 11 11 68 11 04 35 37 13 37 01 16 
收：68 11 11 11 11 11 11 68 91 05 35 37 13 37 33 B5 16 
响应延时:17毫秒
抄读备用GET操作最低认证级别:操作成功!
发：68 11 11 11 11 11 11 68 11 04 36 37 13 37 02 16 
收：68 11 11 11 11 11 11 68 91 05 36 37 13 37 33 B6 16 
响应延时:17毫秒
抄读备用SET操作最低认证级别:操作成功!
发：68 11 11 11 11 11 11 68 11 04 37 37 13 37 03 16 
收：68 11 11 11 11 11 11 68 91 05 37 37 13 37 33 B7 16 
响应延时:173毫秒
抄读备用ACTION操作最低认证级别:操作成功!
发：68 11 11 11 11 11 11 68 11 04 38 37 13 37 04 16 
收：68 11 11 11 11 11 11 68 91 05 38 37 13 37 33 B8 16 
响应延时:18毫秒
抄读备用数据加密算法:操作成功!""".split('\n')
frame = []
for i in ouput:
  if (('收：' in i) | ('发：' in i)):
    frame.append(i[2:].split())

for i in frame:
  if dl645.isValid(i):
    print("校验合格")
  else:
    print("!!!!!!!!!!错误!!!!!!!!!!!!")

print("操作数据项数量为： ", len(frame) / 2)

